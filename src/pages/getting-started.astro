---
import BaseLayout from '../layouts/BaseLayout.astro';

const processSteps = [
  {
    number: 1,
    title: 'Check Compatibility',
    description: 'First, make sure your espresso machine is compatible with BrewOS. We currently support dual boiler, single boiler, and heat exchanger machines with standard wiring.',
    items: ['E61 group head machines work best', 'Must have accessible temperature sensors or boilers', 'Standard 120V or 220V power configurations']
  },
  {
    number: 2,
    title: 'Get the Hardware',
    description: 'BrewOS runs on a custom PCB with a Raspberry Pi Pico for real-time control and an ESP32 for WiFi connectivity. You\'ll need:',
    items: ['BrewOS Control Board (PCB)', 'Temperature sensors (PT100/PT1000)', 'Solid State Relays (SSR)', 'Optional: Pressure transducer, flow meter']
  },
  {
    number: 3,
    title: 'Installation',
    description: 'The installation involves replacing your machine\'s stock controller with the BrewOS board. This typically takes 2-4 hours depending on your machine.',
    items: ['Remove stock PID/thermostat', 'Install temperature sensors', 'Wire SSRs to heating elements', 'Connect the BrewOS board']
  },
  {
    number: 4,
    title: 'Configure & Brew',
    description: 'Once installed, connect to your machine via WiFi and configure your settings through the beautiful web interface or mobile app.',
    items: ['Set target temperatures', 'Configure PID parameters (or use presets)', 'Set up schedules and automations', 'Connect your Bluetooth scale for BBW']
  }
];

const machines = [
  { icon: '‚òï', title: 'Dual Boiler', description: 'Separate brew and steam boilers for ultimate control', examples: 'ECM Synchronika, Profitec Pro 700, Lelit Bianca', status: 'supported' },
  { icon: 'üî•', title: 'Single Boiler', description: 'One boiler for both brewing and steaming', examples: 'Rancilio Silvia, Gaggia Classic Pro, Lelit Anna', status: 'supported' },
  { icon: 'üí®', title: 'Heat Exchanger', description: 'Steam boiler with heat exchanger for brew water', examples: 'ECM Mechanika, Profitec Pro 500, Quick Mill Vetrano', status: 'supported' },
  { icon: '‚ö°', title: 'Thermoblock', description: 'Instant heating systems with rapid response', examples: 'Breville/Sage, DeLonghi', status: 'coming' },
  { icon: 'üè™', title: 'Commercial', description: 'Professional multi-group machines', examples: 'La Marzocco, Nuova Simonelli', status: 'planned' },
  { icon: '‚ùì', title: 'Not Sure?', description: 'Ask the community about your specific machine', examples: '', status: 'ask' }
];

const requirements = [
  { icon: 'wrench', title: 'Basic Tools', description: 'Screwdrivers, wire strippers, multimeter, and soldering iron for connections' },
  { icon: 'cpu', title: 'Technical Comfort', description: 'Basic understanding of electronics and willingness to work with mains voltage' },
  { icon: 'wifi', title: 'WiFi Network', description: '2.4GHz WiFi network for the ESP32 to connect and serve the web interface' }
];
---

<BaseLayout 
  title="Get Started - BrewOS" 
  description="Get started with BrewOS - transform your espresso machine with professional-grade firmware. Check compatibility, order components, and begin your upgrade."
  currentPath="/getting-started"
>
  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1>Get Started with <span>BrewOS</span></h1>
      <p class="hero-description">
        Transform your espresso machine into a precision brewing powerhouse. 
        Here's everything you need to know to upgrade your machine with BrewOS.
      </p>
      <div class="hero-cta">
        <a href="https://cloud.brewos.io?demo=true" class="btn btn-accent">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          </svg>
          Try the Demo
        </a>
        <a href="#compatibility" class="btn btn-secondary">
          Check Compatibility
        </a>
      </div>
    </div>
  </section>

  <!-- Process Section -->
  <section class="process">
    <div class="container">
      <div class="section-header">
        <span class="section-label">The Process</span>
        <h2 class="section-title">How to Upgrade Your Machine</h2>
        <p class="section-description">
          BrewOS replaces your machine's stock controller with a modern, smart system. Here's what the journey looks like.
        </p>
      </div>

      <div class="process-grid">
        {processSteps.map(step => (
          <div class="process-card">
            <div class="process-number">{step.number}</div>
            <h3>{step.title}</h3>
            <p>{step.description}</p>
            <ul>
              {step.items.map(item => <li>{item}</li>)}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Compatibility Section -->
  <section class="compatibility" id="compatibility">
    <div class="container">
      <div class="section-header">
        <span class="section-label">Compatibility</span>
        <h2 class="section-title">Supported Machine Types</h2>
        <p class="section-description">
          BrewOS works with most prosumer espresso machines. Check if your machine type is supported.
        </p>
      </div>

      <div class="compat-grid">
        {machines.map(machine => (
          <div class={`compat-card ${machine.status === 'coming' || machine.status === 'planned' ? 'coming-soon' : ''}`}>
            <div class="compat-icon">{machine.icon}</div>
            <h3>{machine.title}</h3>
            <p>{machine.description}</p>
            {machine.status === 'ask' ? (
              <a href="https://github.com/mizrachiran/brewos/discussions" target="_blank" class="btn btn-secondary btn-sm">
                Ask on GitHub
              </a>
            ) : (
              <span class={`compat-badge ${machine.status}`}>
                {machine.status === 'supported' ? 'Fully Supported' : machine.status === 'coming' ? 'Coming Soon' : 'Planned'}
              </span>
            )}
            {machine.examples && <p class="machine-examples">{machine.examples}</p>}
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Requirements Section -->
  <section class="requirements">
    <div class="container">
      <div class="section-header">
        <span class="section-label">What You'll Need</span>
        <h2 class="section-title">Requirements</h2>
        <p class="section-description">
          Before you start, make sure you have these basics covered.
        </p>
      </div>

      <div class="req-grid">
        {requirements.map(req => (
          <div class="req-card">
            <div class="req-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                {req.icon === 'wrench' && <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>}
                {req.icon === 'cpu' && <><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></>}
                {req.icon === 'wifi' && <><path d="M5 12.55a11 11 0 0 1 14.08 0"/><path d="M1.42 9a16 16 0 0 1 21.16 0"/><path d="M8.53 16.11a6 6 0 0 1 6.95 0"/><line x1="12" y1="20" x2="12.01" y2="20"/></>}
              </svg>
            </div>
            <h3>{req.title}</h3>
            <p>{req.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Order Section -->
  <section class="order" id="order">
    <div class="container">
      <div class="order-content">
        <h2>Ready to Order Components?</h2>
        <p>
          We're working on a streamlined ordering experience where you can get all the components you need in one place.
        </p>
        <div class="order-coming">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
          Component Store Coming Soon
        </div>
        <p class="order-alt">
          In the meantime, check out the 
          <a href="https://github.com/mizrachiran/brewos/blob/main/docs/hardware/Specification.md" target="_blank">hardware specification</a> 
          and 
          <a href="https://github.com/mizrachiran/brewos/blob/main/docs/hardware/BOM.md" target="_blank">bill of materials</a> 
          to source components yourself.
        </p>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <h2>Experience BrewOS Today</h2>
      <p>Try our interactive demo to see exactly what BrewOS can do for your espresso routine.</p>
      <div class="cta-buttons">
        <a href="https://cloud.brewos.io?demo=true" class="btn btn-accent">
          Launch Demo
        </a>
        <a href="https://github.com/mizrachiran/brewos" target="_blank" class="btn btn-cta-secondary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          View on GitHub
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .hero {
    padding: 140px 0 80px;
    background: linear-gradient(180deg, var(--cream-100) 0%, var(--cream-200) 100%);
    text-align: center;
  }

  .hero h1 {
    font-size: 3rem;
    font-weight: 800;
    color: var(--coffee-800);
    margin-bottom: 16px;
    letter-spacing: -0.02em;
  }

  .hero h1 span {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: 1.2rem;
    color: var(--text-secondary);
    max-width: 640px;
    margin: 0 auto 40px;
  }

  .hero-cta {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Process Section */
  .process {
    padding: 100px 0;
    background: var(--white);
  }

  .process-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 32px;
  }

  .process-card {
    background: var(--cream-100);
    border: 1px solid var(--cream-300);
    border-radius: 20px;
    padding: 40px;
    position: relative;
    transition: all 0.3s ease;
  }

  .process-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }

  .process-number {
    position: absolute;
    top: -16px;
    left: 32px;
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    font-weight: 800;
    color: var(--white);
    box-shadow: 0 4px 12px var(--accent-glow);
  }

  .process-card h3 {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--coffee-800);
    margin: 16px 0 12px;
  }

  .process-card p {
    color: var(--text-secondary);
    line-height: 1.7;
  }

  .process-card ul {
    margin-top: 16px;
    padding-left: 20px;
    color: var(--text-secondary);
  }

  .process-card li {
    margin-bottom: 8px;
  }

  /* Compatibility Section */
  .compatibility {
    padding: 100px 0;
    background: var(--coffee-800);
    color: var(--white);
  }

  .compatibility .section-label { color: var(--accent-light); }
  .compatibility .section-title { color: var(--white); }
  .compatibility .section-description { color: var(--cream-400); }

  .compat-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
  }

  .compat-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 32px;
    text-align: center;
    transition: all 0.3s ease;
  }

  .compat-card:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-4px);
  }

  .compat-card.coming-soon { opacity: 0.6; }

  .compat-icon {
    font-size: 3rem;
    margin-bottom: 16px;
  }

  .compat-card h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 8px;
  }

  .compat-card p {
    font-size: 0.9rem;
    color: var(--cream-400);
    margin-bottom: 16px;
  }

  .compat-badge {
    display: inline-block;
    padding: 6px 14px;
    border-radius: 100px;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .compat-badge.supported { background: rgba(45, 122, 79, 0.25); color: #6ee7a0; }
  .compat-badge.coming, .compat-badge.planned { background: rgba(255, 255, 255, 0.1); color: var(--cream-400); }

  .machine-examples {
    font-size: 0.85rem;
    color: var(--cream-400);
    margin-top: 12px;
  }

  .btn-sm {
    padding: 10px 20px;
    font-size: 0.9rem;
    margin-top: 12px;
  }

  /* Requirements Section */
  .requirements {
    padding: 100px 0;
    background: linear-gradient(180deg, var(--cream-200) 0%, var(--cream-100) 100%);
  }

  .req-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 32px;
  }

  .req-card {
    background: var(--white);
    border: 1px solid var(--cream-300);
    border-radius: 20px;
    padding: 32px;
    text-align: center;
    transition: all 0.3s ease;
  }

  .req-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: var(--accent);
  }

  .req-icon {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, var(--coffee-800) 0%, var(--coffee-700) 100%);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
  }

  .req-icon svg {
    width: 32px;
    height: 32px;
    color: var(--cream-100);
  }

  .req-card h3 {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--coffee-800);
    margin-bottom: 8px;
  }

  .req-card p {
    color: var(--text-secondary);
    font-size: 0.95rem;
  }

  /* Order Section */
  .order {
    padding: 100px 0;
    background: var(--white);
  }

  .order-content {
    background: linear-gradient(135deg, var(--cream-100) 0%, var(--cream-200) 100%);
    border: 2px solid var(--cream-300);
    border-radius: 24px;
    padding: 60px;
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
  }

  .order-content h2 {
    font-size: 2rem;
    font-weight: 800;
    color: var(--coffee-800);
    margin-bottom: 16px;
  }

  .order-content p {
    color: var(--text-secondary);
    font-size: 1.1rem;
    margin-bottom: 32px;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
  }

  .order-coming {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    background: var(--accent);
    color: var(--white);
    border-radius: 100px;
    font-weight: 600;
    font-size: 0.95rem;
  }

  .order-coming svg {
    width: 20px;
    height: 20px;
  }

  .order-alt {
    margin-top: 24px;
    font-size: 0.9rem;
    color: var(--text-muted);
  }

  .order-alt a {
    color: var(--accent);
    text-decoration: none;
    font-weight: 500;
  }

  .order-alt a:hover {
    text-decoration: underline;
  }

  /* CTA Section */
  .cta-section {
    padding: 100px 0;
    background: linear-gradient(135deg, var(--coffee-800) 0%, var(--coffee-900) 100%);
    text-align: center;
  }

  .cta-section h2 {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--white);
    margin-bottom: 16px;
  }

  .cta-section p {
    font-size: 1.1rem;
    color: var(--cream-400);
    margin-bottom: 32px;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
  }

  .cta-buttons {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .process-grid { grid-template-columns: 1fr; }
    .compat-grid { grid-template-columns: 1fr; }
    .req-grid { grid-template-columns: 1fr; }
  }

  @media (max-width: 768px) {
    .hero h1 { font-size: 2rem; }
    .order-content { padding: 40px 24px; }
  }
</style>

